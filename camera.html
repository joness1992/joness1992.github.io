<html>
	<head></head>
	<body id="content">
		<h1>BSAC Camera Test 6</h1>
		<video ></video>
	</body>
	<script>
		window.onerror = function(error, url, line) {
			var errorContainer = document.createElement("p");
			var errorText = document.createTextNode(error);
			errorContainer.appendChild(errorText);
			document.getElementById("content").appendChild(errorContainer); 
		};
		
		function hasGetUserMedia() {
		  return !!(navigator.mediaDevices &&
			navigator.mediaDevices.getUserMedia);
		}
		
		function handleError(error) {
		  var errorContainer = document.createElement("p");
			var errorText = document.createTextNode(error);
			errorContainer.appendChild(errorText);
			document.getElementById("content").appendChild(errorContainer); 
		}

		if (hasGetUserMedia()) {
			const constraints = {
			  video: { facingMode: "user" }
			};

			const video = document.querySelector('video');

			navigator.mediaDevices.getUserMedia(constraints).
			  then((stream) => {video.srcObject = stream; handleError("success")}).catch(handleError);
		} else {
		  alert('getUserMedia() is not supported by your browser');
		}
	</script>
	<style>
		video, #cssfilters-video, #screenshot-img {
			width: 400px;
			height: 300px;
			border: red solid 2px;
		}
	</style>
</html>
